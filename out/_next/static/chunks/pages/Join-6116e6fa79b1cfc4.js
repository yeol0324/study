(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[767],{3818:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Join",function(){return r(7247)}])},7247:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var n=r(5893),o=r(7294);let a=(0,o.createContext)({id:"",value:"",type:"text",onChange:()=>{}}),s=e=>{let{id:t,value:r,type:o,onChange:s,children:c}=e;return(0,n.jsx)(a.Provider,{value:{id:t,value:r,type:o,onChange:s},children:c})};s.Input=e=>{let{...t}=e,{id:r,value:s,type:c,onChange:u}=(0,o.useContext)(a);return(0,n.jsx)("input",{id:r,value:s,type:c,onChange:u,...t})},s.Label=e=>{let{children:t,...r}=e,{id:s}=(0,o.useContext)(a);return(0,n.jsx)("label",{htmlFor:s,...r,children:t})};var c=r(3376);function u(){let[e,t]=(0,o.useState)(""),[r,a]=(0,o.useState)("");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{children:"Join page"}),(0,n.jsxs)(s,{id:"joinId",value:e,type:"txt",onChange:e=>{t(e.target.value)},children:[(0,n.jsx)(s.Label,{children:"아이디"}),(0,n.jsx)(s.Input,{})]}),(0,n.jsxs)(s,{id:"joinPwd",value:r,type:"txt",onChange:e=>{a(e.target.value)},children:[(0,n.jsx)(s.Label,{children:"비번"}),(0,n.jsx)(s.Input,{})]}),(0,n.jsx)("button",{onClick:()=>{i(e)},children:"가입하기"})]})}let i=e=>c.Z.post("api",{name:e})},3376:function(e,t,r){"use strict";var n=r(6154),o=r(3454);let a=n.Z.create({baseURL:o.env.REACT_APP_BACKEND_BASE_URI,timeout:3e3,headers:{Authorization:""}}),s={},c=n.Z.CancelToken,u=c.source();a.interceptors.request.use(e=>{console.log(e);let t=localStorage.getItem("token"),r=localStorage.getItem("refreshToken"),n="".concat(e.url,"$").concat(JSON.stringify(e.data));return s[n]?Date.now()-s[n]<1e3&&(e.cancelToken=u.token,u.cancel("중복 호출")):s[n]=Date.now(),t&&e.headers&&!e.headers.Authorization&&(e.headers.Authorization="Bearer ".concat(t)),"/v2/authenticate/token/issue"===e.url&&(e.headers.Authorization="Bearer ".concat(r)),e},e=>Promise.reject(e)),a.interceptors.response.use(e=>{if(e.data.ok||200===e.status)return e},async e=>{if("CanceledError"===e.name)return!0;let{response:t}=e;if(t&&t.data){let r=t.data.errorState.code,n=t.data.errorState.message;if(6101===r||401===t.status||403===t.status)try{e.config}catch(e){console.log("토큰 재발급 실패",e)}else console.error("[API Error] code: ".concat(r," msg: ").concat(n));return Promise.reject({code:r,message:n})}return console.error(e),console.error("[Axios Error] code: ".concat(e.code," msg: ").concat(e.message)),Promise.reject(e)}),t.Z=a}},function(e){e.O(0,[154,774,888,179],function(){return e(e.s=3818)}),_N_E=e.O()}]);